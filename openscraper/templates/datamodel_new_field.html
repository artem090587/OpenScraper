{% extends "main.html" %}
{% autoescape None %}

{% block body %}


<br>

<section class="section">

	<div class="container has-text-centered">
		
		{# <h1 class="title">
			Add a new field to your data structure
		</h1>
		<h2 class="subtitle">
			this will create a new column in your data set. 
		</h2> #}


		<div class="dropdown is-hoverable">
			
			<div class="dropdown-trigger"> 
				
				<button class="button is-large is-rounded" aria-haspopup="true" aria-controls="dropdown-menu-datamodel-add">
					<span>
						<b>Add a new field to your data structure</b>  
					</span>
				</button>
				
				<button class="button  is-text" aria-haspopup="true" aria-controls="dropdown-menu-datamodel-add">
					<span class="icon">
						<i class="fas fa-question-circle"></i>
					</span>
				</button>
				
				{# tabs #}
				<div class="has-text-weight-light"> {% module MainTabs(site_section) %}</div>
			
			</div>

			<div class="dropdown-menu" id="dropdown-menu-datamodel-add" role="menu">
			<div class="dropdown-content">
				<div class="dropdown-item">
					<p>
						this will create a new column in your data set.
					</p>
				</div>
			</div>
			</div>

		</div>



	</div>

	<br>


	<div class="container">

		<div class="columns is-centered">
			
			<div class="column is-6">

				<br>
				
				<form method="POST" action="/datamodel/add_field">
				{% module xsrf_form_html() %}


				<div class="field is-grouped is-horizontal">
					<div class="field-body">

						{# field name and type #}
						<div class="field has-addons">
							
							{# name of the fields #}
							<p class="control is-expanded has-icons-left">
								<input class="input" type="text" 
										placeholder="the name of your new field"
										name="field_name"
										value="">
							</p>
							
							{# type of the field #}
							<p class="control">
								<span class="select" >
									<select name="field_type">
										{% for ft in field_types %}
											<option 
												{% if str(ft) == 'text' %} selected {% end %}
												>
												{{ ft }}
											</option>
										{% end %}
									</select>
								</span>
							</p>

						</div>

						{# open level of the field #}
						<div class="field">

							<p class="control">
								<span class="select is-rounded" >
									
									<select name="field_open">
										{% for fo in field_open_vars %}
											<option 
												{% if str(fo) == 'commons' %} selected {% end %}
												>
												{{ fo }}
											</option>
										{% end %}
									</select>
								</span>
							</p>

						</div>

					</div>
				</div>

					<br>
					{# submit button #}
					<div class="field is-grouped is-grouped-centered">

						<p class="control">
							<a class="button is-light is-rounded" href="/datamodel/edit">
								<span class="icon"><i class="fas fa-times"></i></span>
								<span>Cancel</span>
							</a>
						</p>
						
						<p class="control">
							<input 	class="button is-primary is-rounded" 
									type="submit" 
									value="Create a new field"
								>
							</input>
						</p>

					</div>

				</form>
			
			</div>
		
		</div>
	
	</div>

</section>


{% end %}